# shop-system
基于go开发的分布式高并发web系统
# 项目介绍
## 技术栈

- **访问鉴权**: 基于 JWT（JSON Web Token）
- **路由框架**: Gin
- **配置管理**: Viper
- **缓存服务**: Redis
- **搜索引擎**: Elasticsearch
- **消息队列**: RocketMQ
- **链路追踪**: Jaeger
- **限流**: Sentinel
- **对象存储**: 阿里云对象存储

## 功能介绍

### 登录/注册功能

- **架构**: 采用服务器和 Web 双层架构
- **配置解析**: 使用 Viper 包进行配置解析
- **路由转发**: Web 层基于 Gin 进行路由转发
- **验证码处理**:
  - 使用 Redis 实现注册验证码缓存服务
  - 生成验证码图片并使用 Base64 编码进行登录验证
- **密码安全**: 使用 MD5 盐值加密，确保密码的唯一性和安全性

### 商品服务功能

- **搜索功能**: 基于 Elasticsearch 实现商品搜索
- **接口**:
  1. 商品相关接口
  2. 商品品牌相关接口
  3. 商品分类类目相关接口
  4. 商品分类相关接口
  5. 商品主页轮播图相关接口

### 图片文件管理

- 使用阿里云对象存储，支持服务端签名直传文件

### 库存服务

- **核心目标**: 保持数据一致性、可用性和高性能
- **技术实现**:
  - 引入 Redis 锁和 RocketMQ，确保在分布式高并发场景下的数据一致性
  - 处理库存扣减、超时归还及重复归还商品问题
  - 确保接口的幂等性

### 订单服务

- **架构**: 基于 gRPC 实现订单相关服务及购物车相关服务
- **事务管理**: 使用本地 MySQL 事务保证数据一致性
- **微服务调用**:
  - 使用 RocketMQ 从订单服务调用查询商品服务
  - 调用库存服务进行库存扣减，确保信息一致性

### 用户接口服务

- 提供用户操作接口，包括简单的地址管理、留言、收藏等功能

### 监控与安全

- **链路追踪**: 基于 Jaeger 实现微服务间的链路追踪
- **限流**: 使用 Sentinel 实现限流
